<!DOCTYPE html>
<html>
    <style>
    table {
        font-family: sans-serif;
        border-collapse: collapse;
        width:100%;
    }
    td,th{
        border:  1px solid #cccccc;
        padding: 8px;
    }
    tr:nth-child(even){
        background-color: #dddddd;
    }
    </style>
    <head>
    
    </head>
    <body>
    </body>
    <body>
        <table>
            <thread>
                <tr>
                    <th>Name</th>
                    <th>Last name</th>
                </tr>
            </thread>
            <tbody id="tableData"></tbody>
        </table>
    </body>
    <script>
        /*
    body {
        background-color: #ffffff;
        }
        */


        let dat = [
            {name:"John"},
            {name:"Anna"},
            {name:"Peter"}
        ];

        window.onload = () => {
            loadDataTable(dat);
        };

        function loadDataTable(data){
            
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        // create a JSON object with parameters for API call and store in a variable
        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };
        // make API call with parameters and use promises to get response
        fetch("https://pvj419gvgb.execute-api.eu-west-2.amazonaws.com/dev", requestOptions)
        .then(response => response.text())
        .then(result => alert(JSON.parse(result).body))
        .catch(error => console.log('error', error));

            const tableBod = document.getElementById('tableData');
            let dataHtml = '';
            for(let item of data){
                console.log(item.name);
                dataHtml += `<tr><th>${item.name}</th><th>${item.name}</th></tr>`; 
            }
            tableBod.innerHTML = dataHtml;
        }
    </script>
</html>